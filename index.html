<!DOCTYPE html>
<html lang="en">
<head>
    <script src="WebRtcShitBlt.js"></script>
</head>
<body onload="init();">
<h1>WebRtcShitBlt sample app</h1>
<div>
    <video id="myVideo" muted="true" autoplay playsinline style="width: 640px;height: 480px;border-style: solid"></video>
</div>
<script>

    function init(){
        let sb = new WebRtcSB();
        let imgCopy = new ImageCopy();
        let imgAdd = new TextAdd('Freddy Daniel', 15, 25, {color: 'white', size: '20px'});

        // possible construct params
        //      textValue = '',
        //      textPosX = 10,
        //      textPosY = 10,
        //      textOptions = {
        //         fontType:  null,
        //         color: null,
        //         size: null,
        //         bold: false,
        //         italic: false
        //     }

        // let imgAdd2 = new TextAdd('Daniel', 580, 10, {color: 'green', size: '35px'});

        sb.setManipulators([imgCopy, imgAdd]);

        // sb.sbStartCapture({video: true, audio: false})
        //     .then((stream)=>{
        //         document.getElementById('myVideo').srcObject = stream;
        //     });

        navigator.mediaDevices.getUserMedia({video: true, audio: true}).then( stream => {
            return sb.stampOnStream(stream);
        }).then( stream => {
            document.getElementById('myVideo').srcObject = stream;
        })

    }
</script>
</body>
</html>
